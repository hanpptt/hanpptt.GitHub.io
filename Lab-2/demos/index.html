<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>lab-2</title>
    <script id="vertex-shader" type="x-shader/x-vertex">
        attribute vec3 vPosition;
        attribute vec4 vColor;
        varying vec4 color;
        void main()
            {
                gl_Position = vec4(vPosition, 1.0);
                color = vColor;
            }
	</script>

    <script id="fragment-shader" type="x-shader/x-fragment">
        precision mediump float;
        varying vec4 color;
        void main()
        {
            gl_FragColor = color;
        }
	</script>

    <script type="text/javascript" src="../js/common/webgl-utils.js"></script>
    <script type="text/javascript" src="../js/common/initShaders.js"></script>
    <script type="text/javascript" src="../js/common/gl-matrix-min.js"></script>

    <script type="text/javascript" src="../js/ch02/lab2-1.js"></script>
</head>

<body>
    <canvas id="gl-canvas" width="512" height="512">你的浏览器不支持HTML5 canvas元素</canvas><br>
    <select id="shape" size="3">
        <option value="0">三角形</option>
        <option value="1">线框</option>
        <option value="2">四面体</option>
    </select>
    <br>
    层数：1 <input id="number" type="range" min="1" max="7" step="1" value="1"> 7
    当前层数： <span id="showNum">1</span>

    旋转角：0 <input id="angle" type="range" min="0" max="360" step="1" value="0"> 360
    当前角度： <span id="anglep">0</span>

    形变角度：0 <input id="trans" type="range" min="0" max="360" step="1" value="0"> 360
    当前层数： <span id="transp">0</span>

    <script type="text/javascript">
        initTriangles();
        document.getElementById("number").onchange = function(){ //显示当前层数
            numTimesToSubdivide = event.srcElement.value;
            document.getElementById("showNum").innerHTML = numTimesToSubdivide;
            initTriangles();
        }

        document.getElementById("angle").onchange = function(){ //显示当前旋转角度
            theta = event.srcElement.value;
            //console.log(theta);
            document.getElementById("anglep").innerHTML = theta;
            initTriangles();
        }

        document.getElementById("trans").onchange = function(){
            transAngle = event.srcElement.value;
            document.getElementById("transp").innerHTML = transAngle;
            console.log(transAngle);
            initTriangles();
        }

        document.getElementById("shape").onclick = function(event){
			switch(event.srcElement.index) {
			  case 0:
				
				initTriangles();
				break;
			  case 1:
				
				initTriangles();
				break;
			  case 2:
				
				initTriangles();
				break;
			}
		}
    </script>
    
</body>

</html> 